<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #mainCard{
            width: 60%;
            max-width: fit-content;
            max-height: fit-content;
            
            margin:0 auto;
        }

        #mainCard div img{
            width: 100%;
            margin-right: auto;
        }

        .fade{
            height: 508px;
            width: 902px;
            margin-right: auto;
            position:absolute;
            background: -webkit-linear-gradient(left,
                rgba(0,0,0,.85) 0%, 
                rgba(0,0,0,0) 45%,
                rgba(0,0,0,0) 80%,
                rgba(0, 0, 0, .8) 100%
            );

        }

        #mainCard h1{
            position: absolute;
            margin-left: 25px;
            margin-top: 75px;
            font: italic bolder;
            color: white;
        }

        #mainCard h3{
            width: 300px;
            font-family: 'Roboto', sans-serif;
            opacity: 80%;
            position: absolute;
            color: white;
            margin-left: 25px;
            margin-top: 150px;
        }

        #mainCard p{
            width: 300px;
            font-family: 'Roboto', sans-serif;
            opacity: 70%;
            position: absolute;
            color: white;
            margin-left: 25px;
            margin-top: 300px;
        }

        #genreList{

        }

        #genreList h2{
            color: white;
        }
    </style>
</head>
<body style="background-color:#090909">

    <div id="mainCard">
        <!-- this code doesn't exist
        <div>
            <div class="fade"></div>
            <h1>Peaky Blinders</h1>
            <h3>A notorious gang in 1919 Birmingham, England, is led by the fierce Tommy Shelby, a crime boss set on moving up in the world no matter the cost.</h3>
            <p>Starring: <b>Cillian Murphy, Sam Neill, Helen McCrory</b></p>
            <p style="margin-top: 350px;">Creators: <b>Steven Knight</b></p>
            <img src="https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABQ8XKePDYiwfnUoOMXQzEQlRRGGAw97LvbYwJGoVE1gI2M4cCqKGnGu6rFA28a4_MqRbAZqpGFNF0FB0TZRK3wFEg6bSJ1vCmATP.jpg?r=b6a">
        </div>
        -->
    </div>

    <div id="genreList">
        <h2>Popular</h2>
        <ul>
            </li>
                <img src="https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZTf4aA8SWf1KVmPxArVC-JHtw6AbTx3JvDCIvnfxHVxJ_ixEwEugIa5hievTKpUPZfFX4yL8TyASn_h2xfsInFukoEJypO_x2pt806mz3UHC4y-YDLa6dtK_W0FQmNZ6UlZ.jpg?r=31e">
            </li>
            </li>
                <img src="https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZmakScbYf0VnUuAMcNKX2fvWcMhPc05rGSPB2K40iTaPuopC1cHqeBNV2y3lOmPrCj928frrP-Xn5SG8aOaLF04eYQQ6Vaag8bQGK8u56F7qEBFPXRJB6RizZMyN0zX5EjC.jpg?r=695">
            </li>
            </li>
                <img src="https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABReXbP7eB0iPATMCkKxpoyi0z0Zms3uP4HF0rII0FtnSalT-1lGVaR_j2x-16th1mWUnjb1vyoXB9aW7TxG30jZBXQQxcBRHP0RLdgXR8KhJqC3dRyDDciIhtdEf_R0PcF64.jpg?r=f9b">
            </li>
        </ul>
    </div>
    </body>
    <script>
        var series = null;
        var genres = [];

        function constructor(){
            series = [
  {
    title: "Lucifer",
    id: 0,
    description: "Bored with being the Lord of Hell, the devil relocates to Los Angeles, where he opens a nightclub and forms a connection with a homicide detective.",
    starring: "Tom Ellis, Lauren German, Kevin Alejandro",
    creators: "Steven Knight",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABdvTEbcqWIVSCe2gEgWXwpts5Gqa-BfAjo0_lIBvQXWJNMCwS3YbhkEXSs3Sr0dqqBR3b7XmW71P0fqVHcAjhIrQXojRChHCUFoN.jpg?r=321",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZTf4aA8SWf1KVmPxArVC-JHtw6AbTx3JvDCIvnfxHVxJ_ixEwEugIa5hievTKpUPZfFX4yL8TyASn_h2xfsInFukoEJypO_x2pt806mz3UHC4y-YDLa6dtK_W0FQmNZ6UlZ.jpg?r=31e",
    release: 2016,
    runtime: 45,
    seasons: 6,
    age: 13,
    genres: [
      "Mystery",
      "Comedy",
      "Drama",
      "Popular"
    ]
  },
  {
    title: "Peaky Blinders",
    id: 1,
    description: "A notorious gang in 1919 Birmingham, England, is led by the fierce Tommy Shelby, a crime boss set on moving up in the world no matter the cost.",
    starring: "Cillian Murphy, Sam Neill, Helen McCrory",
    creators: "Steven Knight",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABQ8XKePDYiwfnUoOMXQzEQlRRGGAw97LvbYwJGoVE1gI2M4cCqKGnGu6rFA28a4_MqRbAZqpGFNF0FB0TZRK3wFEg6bSJ1vCmATP.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABboHwJMbqXGl-tqH-503zwwG0dtvDjmRS_4zHT3upONYWS6oQ9ds6BNv8-LIZfwxk19AC_UVpn9UM6N5zy-r38oPu_kFeu_thzDqNRRkOCPfTASWm0u0m_GZR4Qh7rf9MH9g.jpg?r=b23",
    release: 2013,
    runtime: 55,
    seasons: 5,
    age: 16,
    genres: [
      "Crime",
      "Drama",
      "Historical Fiction",
      "Popular"
    ]
  },
  {
    title: "Money Heist",
    id: 2,
    description: "Eight thieves take hostages and lock themselves in the Royal Mint of Spain as a criminal mastermind manipulates the police to carry out his plan.",
    starring: "Úrsula Corberó, Álvaro Morte, Itziar Ituño",
    creators: "Álex Pina",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABaJJIdyKMNvEcWhAtI5Xk12MQLY8DLxAkM2k8unVHyRordNL9Jn726cLoEmP_DAn44vwE3_l9dWTpDQTvmzsk6REyj4veXm9bvQ8.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZmakScbYf0VnUuAMcNKX2fvWcMhPc05rGSPB2K40iTaPuopC1cHqeBNV2y3lOmPrCj928frrP-Xn5SG8aOaLF04eYQQ6Vaag8bQGK8u56F7qEBFPXRJB6RizZMyN0zX5EjC.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Crime",
      "Popular",
      "Drama",
      "Comedy"
    ]
  },
  {
    title: "Squid Game",
    id: 3,
    description: "Hundreds of cash-strapped players accept a strange invitation to compete in children's games. Inside, a tempting prize awaits — with deadly high stakes.",
    starring: "Lee Jung-jae, Park Hae-soo, Wi Ha-jun",
    creators: "Hwang Dong-hyuk",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABW2vHT_kRiIFO3spVWZwdWkXcxqJNrqkwN9mRw8q-yiY0hi3ho64Ce5nh3QXG4F5oaEZUDNYCWK8y-aKlaUMEsTmOd3mOZwIfvEQ.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABReXbP7eB0iPATMCkKxpoyi0z0Zms3uP4HF0rII0FtnSalT-1lGVaR_j2x-16th1mWUnjb1vyoXB9aW7TxG30jZBXQQxcBRHP0RLdgXR8KhJqC3dRyDDciIhtdEf_R0PcF64.jpg?r=f9b",
    release: 2021,
    runtime: 50,
    seasons: 1,
    age: 16,
    genres: [
      "Survival",
      "Popular",
      "Drama",
      "Thriller",
      "Horror",
      "Action"
    ]
  }
]
            
            //adding the genres.................
            for (var i = 0; i < series.length; i++){ //looping through all shows 
                var curShow = series[i];
                //checking whether the genre already exists if it does add the show if it doesn't add the genre with the show  
                for (var b = 0; b < curShow.genres.length; b++){ //why is there not a .contains method????????
                    var curGenreExists = false;
                    for (var c = 0; c < genres.length; c++){
                        if (curShow.genres[b] == genres[c].genre){
                            curGenreExists = true;
                            genres[c].idList.push(curShow.id);
                            break;
                        }
                    }
                    if (!curGenreExists){
                        genres.push({
                            genre: curShow.genres[b],
                            idList: [curShow.id]
                        })
                    }
                }
            } 
              
            //shuffle the genres order n stuff
            for (var i = 0; i < genres.length; i++){
                genres[i].idList = shuffle(genres[i].idList);
            }

            console.log(genres);
        }

        function shuffle(list){ //nice
            var newList = [];
            while (list.length > 0){
                var randomIndex = Math.floor(Math.random() * list.length);
                newList.push(list[randomIndex]);
                list.splice(randomIndex, 1);
            }
            return newList;
        }

        function addMainCard(){
            var curShow = null;
            var curShowId = -1;
            for (var i = 0; i < genres.length; i++){
                if (genres[i].genre === "Popular"){
                    curShowId = genres[i].idList[0];
                    break;
                }
            }
            console.log(curShowId);
            for (var i = 0; i < series.length; i++){
                if (series[i].id === curShowId){
                    curShow = series[i];
                    break;
                }
            }
            var title = curShow.title;
            var description = curShow.description;
            var starring = curShow.starring;
            var creators = curShow.creators;
            var foregroundImage = curShow.backgroundImage;
            document.getElementById("mainCard").innerHTML = 
            "   <div>" +
            "       <div class='fade'></div>" +
            "       <h1>" + title + "</h1>" +
            "       <h3>" + description + "</h3>" +
            "       <p>Starring: <b>" + starring + "</b></p>" +
            "       <p style='margin-top: 350px;'>Creators: <b>" + creators + "</b></p>" +
            "       <img src='" + foregroundImage + "'>" +
            "   </div>"    
        }


        function addSubCards(){
            
        }
        constructor();
        addMainCard();
        addSubCards();
    </script>
</html>