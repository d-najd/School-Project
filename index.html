<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .topnav {
          overflow:hidden;
          background-color: #050505;
          top:0;
        }
        
        .topnav a {
          float: left;
          color: #f2f2f2;
          text-align: center;
          padding: 14px 16px;
          text-decoration: none;
          font-size: 17px;
        }
        
        .topnav a:hover {
          background-color: #ddd;
          color: black;
        }
        
        .topnav a.active {
          background-color: #04AA6D;
          color: white;
        }


        #mainCard{
            width: 60%;
            max-width: 60%;
            max-height: fit-content;
            
            margin-left: 5%;
        }

        #mainCard img{
            width: 100%;
            margin-right: auto;
        }

        #fade{

            width: 100%;
            height: 100px;
            margin-right: auto;
            position:absolute;
            background: -webkit-linear-gradient(left,
                rgba(0,0,0,.85) 0%, 
                rgba(0,0,0,0) 45%,
                rgba(0,0,0,0) 80%,
                rgba(0, 0, 0, .8) 100%
            );

        }

        #mainCard h1{
            position: absolute;
            margin-left: 25px;
            margin-top: 75px;
            font: italic bolder;
            color: white;
        }

        #mainCard h3{
            width: 300px;
            font-family: 'Roboto', sans-serif;
            opacity: 80%;
            position: absolute;
            color: white;
            margin-left: 25px;
            margin-top: 150px;
        }

        #mainCard p{
            width: 300px;
            font-family: 'Roboto', sans-serif;
            opacity: 70%;
            position: absolute;
            color: white;
            margin-left: 25px;
            margin-top: 300px;
        }

        #genreList{

        }

        #genreList h2{
            color: white;
        }

        li{
            display: inline-block;
        }

        #centeredH3{
            font-family: 'Roboto', sans-serif;
            font-size: 20px;
            color: white;
            display: block;
            margin-left: 90px;
        }
        body{
          background-color: #101010;
        }

    </style>
</head>
<body>

  <header>
    <div class="topnav">
      <a class="active" href="#home">Home</a>
      <a href="#news">News</a>
      <a href="#contact">Contact</a>
      <a href="#about">About</a>
    </div>
  </header>
  <div style="background-color: #080808;">
    <table><tr> <!--stop complainin will ya-->
      <td>
        <div id="mainCard" style="float:left; margin-right: 100px;"></div>
      </td>
      <td colspan="1" id="mainCardMenu">
        <img>
      </td>
    </tr></table>
  </div>

    <div id="genreList">
        <div title="Popular"></div>
        <div title="Crime"></div>
        <div title="Action"></div>
        <div title="Thriller"></div>
    </div>
    </body>
    <script>
        var series = null;
        var genres = [];

        function constructor(){
            series = [
  {
    title: "Lucifer",
    id: 0,
    description: "Bored with being the Lord of Hell, the devil relocates to Los Angeles, where he opens a nightclub and forms a connection with a homicide detective.",
    starring: "Tom Ellis, Lauren German, Kevin Alejandro",
    creators: "Steven Knight",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABdvTEbcqWIVSCe2gEgWXwpts5Gqa-BfAjo0_lIBvQXWJNMCwS3YbhkEXSs3Sr0dqqBR3b7XmW71P0fqVHcAjhIrQXojRChHCUFoN.jpg?r=321",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZTf4aA8SWf1KVmPxArVC-JHtw6AbTx3JvDCIvnfxHVxJ_ixEwEugIa5hievTKpUPZfFX4yL8TyASn_h2xfsInFukoEJypO_x2pt806mz3UHC4y-YDLa6dtK_W0FQmNZ6UlZ.jpg?r=31e",
    release: 2016,
    runtime: 45,
    seasons: 6,
    age: 13,
    genres: [
      "Mystery",
      "Comedy",
      "Popular"
    ]
  },
  {
    title: "Peaky Blinders",
    id: 1,
    description: "A notorious gang in 1919 Birmingham, England, is led by the fierce Tommy Shelby, a crime boss set on moving up in the world no matter the cost.",
    starring: "Cillian Murphy, Sam Neill, Helen McCrory",
    creators: "Steven Knight",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABQ8XKePDYiwfnUoOMXQzEQlRRGGAw97LvbYwJGoVE1gI2M4cCqKGnGu6rFA28a4_MqRbAZqpGFNF0FB0TZRK3wFEg6bSJ1vCmATP.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABboHwJMbqXGl-tqH-503zwwG0dtvDjmRS_4zHT3upONYWS6oQ9ds6BNv8-LIZfwxk19AC_UVpn9UM6N5zy-r38oPu_kFeu_thzDqNRRkOCPfTASWm0u0m_GZR4Qh7rf9MH9g.jpg?r=b23",
    release: 2013,
    runtime: 55,
    seasons: 5,
    age: 16,
    genres: [
      "Crime",
      "Historical Fiction",
      "Popular"
    ]
  },
  {
    title: "Money Heist",
    id: 2,
    description: "Eight thieves take hostages and lock themselves in the Royal Mint of Spain as a criminal mastermind manipulates the police to carry out his plan.",
    starring: "Úrsula Corberó, Álvaro Morte, Itziar Ituño",
    creators: "Álex Pina",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABaJJIdyKMNvEcWhAtI5Xk12MQLY8DLxAkM2k8unVHyRordNL9Jn726cLoEmP_DAn44vwE3_l9dWTpDQTvmzsk6REyj4veXm9bvQ8.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZmakScbYf0VnUuAMcNKX2fvWcMhPc05rGSPB2K40iTaPuopC1cHqeBNV2y3lOmPrCj928frrP-Xn5SG8aOaLF04eYQQ6Vaag8bQGK8u56F7qEBFPXRJB6RizZMyN0zX5EjC.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Crime",
      "Popular",
      "Comedy"
    ]
  },
  {
    title: "Squid Game",
    id: 3,
    description: "Hundreds of cash-strapped players accept a strange invitation to compete in children's games. Inside, a tempting prize awaits — with deadly high stakes.",
    starring: "Lee Jung-jae, Park Hae-soo, Wi Ha-jun",
    creators: "Hwang Dong-hyuk",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABW2vHT_kRiIFO3spVWZwdWkXcxqJNrqkwN9mRw8q-yiY0hi3ho64Ce5nh3QXG4F5oaEZUDNYCWK8y-aKlaUMEsTmOd3mOZwIfvEQ.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABReXbP7eB0iPATMCkKxpoyi0z0Zms3uP4HF0rII0FtnSalT-1lGVaR_j2x-16th1mWUnjb1vyoXB9aW7TxG30jZBXQQxcBRHP0RLdgXR8KhJqC3dRyDDciIhtdEf_R0PcF64.jpg?r=f9b",
    release: 2021,
    runtime: 50,
    seasons: 1,
    age: 16,
    genres: [
      "Survival",
      "Popular",
      "Thriller",
      "Horror",
      "Action"
    ]
  },
  {
    title: "Breaking Bad",
    id: 4,
    description: "A high school chemistry teacher dying of cancer teams with a former student to secure his family's future by manufacturing and selling crystal meth.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABSg7h75hca17p0a2F9a3GImLpvoBQZs0VOGF92IxCwXiTwGlq_tEVLViUEQT0YOjh1MCmCL9Uhmnw_nJgvd_FGahW9iIpU9WYIiN.jpg?r=e04&quot",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABVw-FSoUCSeL9jjziqg8_s8JU3uBj0dFj_ChjY-5FnYcrARuHCcjR7j4_F2WOS7tlUU6lvz3q15t79MZZCLqBa6vLqE1gj4bQRY.jpg?r=01d",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Crime",
      "Popular",
      "Thriller",
      "Tragedy",
      "Neo-Western",
      "Black comedy"
    ]
  },
  {
    title: "The Blacklist",
    id: 5,
    description: "After turning himself in, a brilliant fugitive offers to help the FBI bag other baddies, but only if rookie profiler Elizabeth Keen is his partner.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABUrQUVEkNUHgJNutlhUSHjlkUFj0vypaWp90etJnUIa_KkvVZdb_2fUT636BxpGHC0gkn-K26jyx9Ud7-KJD0hxBiELzooJjb1JL.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABTseN2l9UtbiYG4HfeQ012gcxzL0ryFXGy8evyUWzcWyGuRrfcwOVusjiaD4ymTgvE2O4niRAB5hex9g-Js4siYZFwr1Ss3H2XO-k5233VSMPt47KkPSZvHOZglx5Qtih86terl1aA.jpg?r=f02",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Popular",
      "Crime",
      "Action",
      "Thriller",
      "Mystery"
    ]
  },
  {
    title: "The Good Doctor",
    id: 6,
    description: "A talented surgeon with autism and savant syndrome joins a prestigious hospital, where he faces skepticism from both the patients and staff.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABRxCJSVdFN8lJ_eSVhGevvYMzk0OLAozpunjhrC_9J_8tREBn4_m2sOHLe9l1GzsTJMq_7yv4jyosYsybOtgBZrsrp59064oa5kL.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABeBc-f8qKZoSAVTczVfCshrXPa-P70BsEj29JRatm5dgh78UAPlaRhHqh5knXg2xhqxBdaVbisUpUghADXLWwOKLFnntwMzGZIM.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Popular",
      "Medical drama"
    ]
  },
  {
    title: "Vikings",
    id: 7,
    description: "This gritty drama charts the exploits of Viking hero Ragnar Lothbrok as he extends the Norse reach by challenging an unfit leader who lacks vision.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABa8IXG6QsIiB663K_eVXj6QoDtN76B2zYxXMI2mAD_F4P0UZDXmRfrH3GDJ6yCcRi3r1hPTEhoQyBqcbB3r_mTom_7cvHjhW94vH.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABTy2fZR_5D9uj6dv2mYfVuDGKss7C0S3EnGHZ2t_P4PS763HXggS3Xuy35Yyu-nTdf0lVQFcFpfQMAXWpknz2P-ZAD6OhuqaFNY.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Popular",
      "Medical drama"
    ]
  },
  {
    title: "Vikings",
    id: 8,
    description: "This gritty drama charts the exploits of Viking hero Ragnar Lothbrok as he extends the Norse reach by challenging an unfit leader who lacks vision.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABa8IXG6QsIiB663K_eVXj6QoDtN76B2zYxXMI2mAD_F4P0UZDXmRfrH3GDJ6yCcRi3r1hPTEhoQyBqcbB3r_mTom_7cvHjhW94vH.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABTy2fZR_5D9uj6dv2mYfVuDGKss7C0S3EnGHZ2t_P4PS763HXggS3Xuy35Yyu-nTdf0lVQFcFpfQMAXWpknz2P-ZAD6OhuqaFNY.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Historical",
      "Popular",
      "Adventure",
      "Action"
    ]
  },
  {
    title: "The Witcher",
    id: 9,
    description: "Geralt of Rivia, a mutated monster-hunter for hire, journeys toward his destiny in a turbulent world where people often prove more wicked than beasts.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABWLqqfIxOhGGjSyegfImujv6mz09DyEV5Qi-SSSH_KtcICTPpu2YosnVhIGTjbXO94Sx7irIIuq2-U-FKdXH1cv-S949lIHrdMCc.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABY0V35KZlRAMfDi7_pe3EiHpisg1yr4AUDwPg4tqDvqw8ftfLVk4sjB7-h_w4XoiTN0xMHFY8hNXKeeI9s5_6zexaabaJkIyEGHtZ5yGBExL2F55n73ArzQ7cvYigMnofvys.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Fantasy",
      "Popular",
      "Adventure",
      "Action"
    ]
  },
  {
    title: "The Flash",
    id: 10,
    description: "A forensics expert who wakes from a coma with amazing new powers squares off against forces threatening the city in this live-action superhero romp.",
    starring: "Bryan Cranston, Aaron Paul, Anna Gunn",
    creators: "Vince Gilligan",
    backgroundImage: "https://occ-0-6487-2773.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABbauvZUIbNI6eImkX0EwPlLebgDbp8L48Xe64L1PTlib80vNFhTrLrEseISN4EOZPrh3j5hZQ0i4S-ww252OcuaGjIzM0pvDUjlJ.jpg",
    foregroundImage: "https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABReZbw5AmlNYknGZH5ScPcaTnP22gwTRpEw_rb8GCnxn2KqscsNBXriBmdkXIaD2tWvunxAER7do_beu0IW6vO4LmakTGmtGO8o.jpg",
    release: 2017,
    runtime: 50,
    seasons: 5,
    age: 16,
    genres: [
      "Superhero",
      "Popular",
      "Action"
    ]
  }
]
            
            //adding the genres.................
            for (var i = 0; i < series.length; i++){ //looping through all shows 
                var curShow = series[i];
                //checking whether the genre already exists if it does add the show if it doesn't add the genre with the show  
                for (var b = 0; b < curShow.genres.length; b++){ //why is there not a .contains function????????
                    var curGenreExists = false;
                    for (var c = 0; c < genres.length; c++){
                        if (curShow.genres[b] == genres[c].genre){
                            curGenreExists = true;
                            genres[c].idList.push(curShow.id);
                            break;
                        }
                    }
                    if (!curGenreExists){
                        genres.push({
                            genre: curShow.genres[b],
                            idList: [curShow.id]
                        })
                    }
                }
            } 
              
            //shuffle the genres order n stuff
            for (var i = 0; i < genres.length; i++){
                genres[i].idList = shuffle(genres[i].idList);
            }
        }

        function shuffle(list){ //nice
            var newList = [];
            while (list.length > 0){
                var randomIndex = Math.floor(Math.random() * list.length);
                newList.push(list[randomIndex]);
                list.splice(randomIndex, 1);
            }
            return newList;
        }

        function addMainCard(){
            var curShow = null;
            var curShowId = -1;
            for (var i = 0; i < genres.length; i++){
                if (genres[i].genre === "Popular"){
                    curShowId = genres[i].idList[0];
                    break;
                }
            }

            for (var i = 0; i < series.length; i++){
                if (series[i].id === curShowId){
                    curShow = series[i];
                    break;
                }
            }

            var title = curShow.title;
            var description = curShow.description;
            var starring = curShow.starring;
            var creators = curShow.creators;
            var foregroundImage = curShow.backgroundImage;
            document.getElementById("mainCard").innerHTML = 
            "       <div id='fade'></div>" +
            "       <h1>" + title + "</h1>" +
            "       <h3>" + description + "</h3>" +
            "       <p>Starring: <b>" + starring + "</b></p>" +
            "       <p style='margin-top: 350px;'>Creators: <b>" + creators + "</b></p>" +
            "       <img src='" + foregroundImage + "'; id='fadeMainImg';>" 
            
            var fadeMain = document.getElementById("fade");
            var mainImg = document.getElementById("fadeMainImg");

            mainImg.onload = function() { //no comment
                var width = mainImg.width;
                var height = mainImg.height;
                fadeMain.style.minHeight = height + "px";
                fadeMain.style.minWidth = width + "px";
                fadeMain.style.maxWidth = width + "px";
                fadeMain.style.maxHeight = height + "px";
                mainImg.style.minHeight = height + "px";
                mainImg.style.minWidth = width + "px";
                mainImg.style.maxHeight = height + "px";
                mainImg.style.maxWidth = width + "px";
                addCardMenu();   
            }   
          }

          function addCardMenu(){
            var menu = document.getElementById("mainCardMenu");
            var menuHtml = menu.innerHtml;
            for (var i = 0; i < 2; i++){
                menu.innerHtml = 
                  "<div >"+
                  " <img  style='margin: 10px; margin-left:35px'; src = '" + series[i].backgroundImage +"';>"
                  +"</div>"
            
          }
            menu.innerHTML += 
            "<div >"+
            " <img  style='margin: 10px; margin-left:35px'; src = 'https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABVw-FSoUCSeL9jjziqg8_s8JU3uBj0dFj_ChjY-5FnYcrARuHCcjR7j4_F2WOS7tlUU6lvz3q15t79MZZCLqBa6vLqE1gj4bQRY.jpg?r=01d';>"
            +"</div>"+
            "<div>"+
            " <img style='margin: 10px; margin-left:35px' src = 'https://occ-0-6487-2774.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABVw-FSoUCSeL9jjziqg8_s8JU3uBj0dFj_ChjY-5FnYcrARuHCcjR7j4_F2WOS7tlUU6lvz3q15t79MZZCLqBa6vLqE1gj4bQRY.jpg?r=01d';>"
            +"</div>"
            console.log(menu)
          }
        function addSubCards() {
            var genresListDiv = document.getElementById("genreList");
            var children = genresListDiv.children;
            for (var i = 0; i < children.length; i++){
                curChild = children[i];
                var title = curChild.title;
                var genre = genres.find(o => o.genre === title)
                if (genre == null){
                    console.log("invalid genre subcard");
                } else {
                    curChild.innerHTML = 
                    "<h2>" + title + "</h2>" +
                    "<ul>";
                    for (var b = 0; b < genre.idList.length; b++) { //why is there not a for-each loop?????????????????
                        if (b > 3)
                          break;
                        var curShow = series.find(o => o.id === genre.idList[b]);
                        var curInnerHtml = curChild.innerHTML;
                        if (curShow == null){
                            console.log("invalid show subcard");
                        }
                        curChild.innerHTML = curInnerHtml + 
                        "   <li>" +
                        "   <div style='margin-right: 7px'>" +
                        "   <a href='https://www.metacritic.com/search/tv/" + curShow.title +  "/results'>" + //html/js decided "href inside image or text shouldn't work so I am forced to use this";
                        "       <img src='" + curShow.foregroundImage + "'>" +
                        "   </a>" +
                        "       <h3 id='centeredH3'>" + curShow.title + "</h3>" +
                        "   </div>"
                        "   </li>";
                    }
                    curChild.innerHTML = curChild.innerHTML + "</ul>";
                    
                }
            }
        }

        constructor();
        addMainCard();
        addSubCards();
    </script>
</html>